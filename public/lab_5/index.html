<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title class="ftitle">Marzena Hurtado's Lab 4</title>
    <link href="styles.css" rel="stylesheet">
  </head>
  <body>
    <h1 class="ftitle">Marzena Hurtado's Lab 4</h1>
    <div class="container">
      <form action="/api" method="post">
        <ul class="flex-outer">
          <li>
            <label for="fname">First Name</label>
            <input type="text" id="fname" name="fname" maxlength="140">
          </li>
          <li>
            <label for="lname">Last Name</label>
            <input type="text" id="lname"name="lname" maxlength="140">
          </li>
          <li>
            <label for="email">Email</label>
            <input type="email" id="email" name="email">
          </li>
          <li>
            <label for="phone">Phone</label>
            <input type="tel" id="phone" name="phone">
          </li>
          <li>
            <label for="message">Text field</label>
            <textarea rows="5" cols="33" id="message" name="message"></textarea>
          </li>
          <li>
            <p class="checkbox-list-label">Age</p>   
            <ul class="flex-inner">
              <li>
                <input type="checkbox" id="age18-35" name="age18-35" >
                <label type="for-checkbox" for="age18-35">18-35</label>
              </li>
              <li>
                <input type="checkbox" id="age35-50" name="age35-50" >
                <label type="for-checkbox" for="age35-50">35-50</label>
              </li>
              <li>
                <input type="checkbox" id="age50-65" name="age50-65">
                <label type="for-checkbox" for="age50-65">50-65</label>
              </li>
            </ul>
          </li>
          <li class="buttons-area">
            <button class= "button" type="submit" id="Submit" name="Submit">Submit form</button>
          <button onclick="testFunction()" class= "button" type="button"  id="Activate" name="Activate" >Activate</button>
          </li>
        </ul>
      </form> 
    </div>
    <script>
      function testFunction() {
        const titles = document.querySelectorAll('.ftitle');
        fetch('/api')
        .then((response) => response.text())
        .then((response) => {
          console.log(response)
          titles.forEach((n) => {
            n.innerText = (response);
          })
        })
        document.body.style.background = '#C221AA';
      }
      
      const fruits = ['kiwi', 'dragonfruit', 'pomelo'];
      const ageLabels = document.querySelectorAll('.flex-inner li label');
      ageLabels.forEach((el, index) => {
         el.innerHtml = fruits[index];
      })
       
      /* setting up borders for input boxes */
        const Boxes = document.querySelectorAll('.flex-outer li input' || '.flex-outer li textarea');
        Boxes.forEach((el) => {
          el.style.border.radius = "3px";
          el.border.color = '#404E61';
        })
        
      /* centerForm */
      document.querySelector('.flex-outer').style.margin = '0 auto';
      /* replace "Age" labe with "Fruits" */
      document.querySelector('.checkbox-list-label').innerHTML = "Fruits";
     
    </script>
  </body>
</html>